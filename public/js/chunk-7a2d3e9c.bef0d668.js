(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a2d3e9c"],{"1d38":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container  row mx-auto  col-8  justify-content-center align-content-center "},[a("h1",{staticClass:"mb-3"},[e._v("Agenda Docente")]),a("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:e.mensaje.color},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(" "+e._s(e.mensaje.texto)+" ")]),e.agregar?a("form",{on:{submit:function(t){return t.preventDefault(),e.agregarAgenda()}}},[a("h3",{staticClass:"text-center mb-3"},[e._v("Agregar nueva entrada")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agenda.nombre,expression:"agenda.nombre"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Fundación"},domProps:{value:e.agenda.nombre},on:{input:function(t){t.target.composing||e.$set(e.agenda,"nombre",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agenda.fecha,expression:"agenda.fecha"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese Fecha (DD/MM/AAAA)"},domProps:{value:e.agenda.fecha},on:{input:function(t){t.target.composing||e.$set(e.agenda,"fecha",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agenda.hora,expression:"agenda.hora"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese Horario (07:00-17:00)"},domProps:{value:e.agenda.hora},on:{input:function(t){t.target.composing||e.$set(e.agenda,"hora",t.target.value)}}}),a("div",{staticClass:"d-grid my-4"},[a("button",{staticClass:"btn btn-primary btn-md",attrs:{type:"submit"}},[e._v(" Agregar ")]),a("br"),a("button",{staticClass:"btn btn-secondary btn-md",attrs:{type:"submit"},on:{click:function(t){return e.$router.push("/Menu")}}},[e._v(" Volver ")])])]):a("form",{on:{submit:function(t){return t.preventDefault(),e.editarAgenda(e.agendaEditar)}}},[a("h3",{staticClass:"text-center"},[e._v("Editar Nota")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agenda.nombre,expression:"agenda.nombre"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Fundación"},domProps:{value:e.agenda.nombre},on:{input:function(t){t.target.composing||e.$set(e.agenda,"nombre",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agenda.fecha,expression:"agenda.fecha"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese Fecha (DD/MM/AAAA)"},domProps:{value:e.agenda.fecha},on:{input:function(t){t.target.composing||e.$set(e.agenda,"fecha",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agenda.hora,expression:"agenda.hora"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese Horario (07:00-17:00)"},domProps:{value:e.agenda.hora},on:{input:function(t){t.target.composing||e.$set(e.agenda,"hora",t.target.value)}}}),a("b-button",{staticClass:"btn-lg btn-block btn-info mx-2 my-2",attrs:{type:"submit"}},[e._v("Editar")]),a("b-button",{staticClass:"btn-lg btn-block mx-2 my-2",on:{click:function(t){e.agregar=!0}}},[e._v("Cancelar")])],1),a("table",{staticClass:"table"},[e._m(0),a("tbody",e._l(e.agendas,(function(t,n){return a("tr",{key:n},[a("td",[e._v(e._s(t.nombre))]),a("td",[e._v(e._s(t.fecha))]),a("td",[e._v(e._s(t.hora))]),a("td",[a("b-button",{staticClass:"btn-info btn-sm mx-2 my-1",on:{click:function(a){return e.activarEdicion(t._id)}}},[e._v("Actualizar")]),a("b-button",{staticClass:"btn-secondary btn-sm mx-2 my-1",on:{click:function(a){return e.eliminarAgenda(t._id)}}},[e._v("Eliminar")])],1)])})),0)])],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Fundación")]),a("th",{attrs:{scope:"col"}},[e._v("Fecha")]),a("th",{attrs:{scope:"col"}},[e._v("Horario")]),a("th",{attrs:{scope:"col"}},[e._v("Acciones")])])])}],s=a("5530"),r=(a("c740"),a("a434"),a("2f62")),i={data:function(){return{agendas:[],agenda:{nombre:"",fecha:"",hora:""},agregar:!0,agendaEditar:{},mensaje:{color:"success",texto:""},dismissSecs:5,dismissCountDown:0}},computed:Object(s["a"])({},Object(r["d"])(["token"])),created:function(){this.listarAgendas()},methods:{alerta:function(){this.mensaje.color="danger",this.mensaje.texto="Probando alerta",this.showAlert()},listarAgendas:function(){var e=this,t={headers:{token:this.token}};this.axios.get("/agenda",t).then((function(t){e.agendas=t.data})).catch((function(e){console.log("error"+e)}))},agregarAgenda:function(){var e=this,t={headers:{token:this.token}};this.axios.post("/nueva-agenda",this.agenda,t).then((function(t){e.agendas.push(t.data),e.agendas.nombre="",e.agenda.fecha="",e.agenda.hora="",e.mensaje.color="success",e.mensaje.texto="Agenda Agregada!",e.showAlert()})).catch((function(t){console.log(t.response),t.response?e.mensaje.texto=t.response:e.mensaje.texto="Error de sistema!",e.mensaje.color="danger",e.showAlert()}))},eliminarAgenda:function(e){var t=this;this.token;this.axios.delete("agenda/".concat(e)).then((function(e){var a=t.agendas.findIndex((function(t){return t._id===e.data._id}));t.agendas.splice(a,1),t.showAlert(),t.mensaje.texto="Agenda Eliminada!",t.mensaje.color="danger"})).catch((function(e){console.log(e.response)}))},activarEdicion:function(e){var t=this;this.token;this.agregar=!1,this.axios.get("agenda/".concat(e)).then((function(e){t.agendaEditar=e.data})).catch((function(e){console.log(e.response)}))},editarNota:function(e){var t=this;this.token;this.axios.put("nota/".concat(e._id),e).then((function(e){var a=t.agendas.findIndex((function(e){return e._id===t.agendaEditar._id}));t.agendas[a].nombre=t.agendaEditar.nombre,t.agendas[a].fecha=t.agendaEditar.fecha,t.agendas[a].hora=t.agendaEditar.hora,t.agendasEditar={},t.showAlert(),t.mensaje.texto="Agenda Actualizada",t.mensaje.color="success"})).catch((function(e){console.log(e)})),this.agregar=!0},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},c=i,d=a("2877"),l=Object(d["a"])(c,n,o,!1,null,null,null);t["default"]=l.exports},a434:function(e,t,a){"use strict";var n=a("23e7"),o=a("23cb"),s=a("5926"),r=a("07fa"),i=a("7b0b"),c=a("65f0"),d=a("8418"),l=a("1dde"),u=l("splice"),g=Math.max,m=Math.min,h=9007199254740991,f="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var a,n,l,u,p,v,b=i(this),x=r(b),A=o(e,x),_=arguments.length;if(0===_?a=n=0:1===_?(a=0,n=x-A):(a=_-2,n=m(g(s(t),0),x-A)),x+a-n>h)throw TypeError(f);for(l=c(b,n),u=0;u<n;u++)p=A+u,p in b&&d(l,u,b[p]);if(l.length=n,a<n){for(u=A;u<x-n;u++)p=u+n,v=u+a,p in b?b[v]=b[p]:delete b[v];for(u=x;u>x-n+a;u--)delete b[u-1]}else if(a>n)for(u=x-n;u>A;u--)p=u+n-1,v=u+a-1,p in b?b[v]=b[p]:delete b[v];for(u=0;u<a;u++)b[u+A]=arguments[u+2];return b.length=x-n+a,l}})},c740:function(e,t,a){"use strict";var n=a("23e7"),o=a("b727").findIndex,s=a("44d2"),r="findIndex",i=!0;r in[]&&Array(1)[r]((function(){i=!1})),n({target:"Array",proto:!0,forced:i},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s(r)}}]);
//# sourceMappingURL=chunk-7a2d3e9c.bef0d668.js.map