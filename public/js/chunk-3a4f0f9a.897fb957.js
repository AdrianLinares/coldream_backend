(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a4f0f9a"],{2013:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container  row mx-auto  col-8  justify-content-center align-content-center "},[a("h1",{staticClass:"mb-3"},[e._v("Registro de Áreas Académicas y Docentes ")]),a("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:e.mensaje.color},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(" "+e._s(e.mensaje.texto)+" ")]),e.agregar?a("form",{on:{submit:function(t){return t.preventDefault(),e.agregarArea()}}},[a("h3",{staticClass:"text-center mb-3"},[e._v("Agregar nueva Area y/o Docente")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.area.area,expression:"area.area"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese una Área"},domProps:{value:e.area.area},on:{input:function(t){t.target.composing||e.$set(e.area,"area",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.area.docente,expression:"area.docente"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese un Docente"},domProps:{value:e.area.docente},on:{input:function(t){t.target.composing||e.$set(e.area,"docente",t.target.value)}}}),a("div",{staticClass:"d-grid my-4"},[a("button",{staticClass:"btn btn-primary btn-md",attrs:{type:"submit"}},[e._v(" Agregar ")]),a("br"),a("button",{staticClass:"btn btn-secondary btn-md",attrs:{type:"submit"},on:{click:function(t){return e.$router.push("/Menu")}}},[e._v(" Volver ")])])]):a("form",{on:{submit:function(t){return t.preventDefault(),e.editarArea(e.areaEditar)}}},[a("h3",{staticClass:"text-center"},[e._v("Editar Nota")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.areaEditar.area,expression:"areaEditar.area"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese un Nombre"},domProps:{value:e.areaEditar.area},on:{input:function(t){t.target.composing||e.$set(e.areaEditar,"area",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.areaEditar.docente,expression:"areaEditar.docente"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingrese una descripcion"},domProps:{value:e.areaEditar.docente},on:{input:function(t){t.target.composing||e.$set(e.areaEditar,"docente",t.target.value)}}}),a("b-button",{staticClass:"btn-lg btn-block btn-info mx-2 my-2",attrs:{type:"submit"}},[e._v("Editar")]),a("b-button",{staticClass:"btn-lg btn-block btn-secondary mx-2 my-2",on:{click:function(t){e.agregar=!0}}},[e._v("Cancelar")])],1),a("table",{staticClass:"table"},[e._m(0),a("tbody",e._l(e.areas,(function(t,n){return a("tr",{key:n},[a("td",[e._v(e._s(t.area))]),a("td",[e._v(e._s(t.docente))]),a("td",[a("b-button",{staticClass:"btn-info btn-sm mx-2",on:{click:function(a){return e.activarEdicion(t._id)}}},[e._v("Actualizar")]),a("b-button",{staticClass:"btn-secondary btn-sm mx-2",on:{click:function(a){return e.eliminarArea(t._id)}}},[e._v("Eliminar")])],1)])})),0)])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Área Académica")]),a("th",{attrs:{scope:"col"}},[e._v("Docente")]),a("th",{attrs:{scope:"col"}},[e._v("Acciones")])])])}],o=a("5530"),s=(a("c740"),a("a434"),a("2f62")),i={data:function(){return{areas:[],area:{area:"",docente:""},agregar:!0,areaEditar:{},mensaje:{color:"success",texto:""},dismissSecs:5,dismissCountDown:0}},computed:Object(o["a"])({},Object(s["d"])(["token"])),created:function(){this.listarAreas()},methods:{alerta:function(){this.mensaje.color="danger",this.mensaje.texto="Probando alerta",this.showAlert()},listarAreas:function(){var e=this,t={headers:{token:this.token}};this.axios.get("/area",t).then((function(t){e.areas=t.data})).catch((function(e){console.log("error"+e)}))},agregarArea:function(){var e=this,t={headers:{token:this.token}};this.axios.post("/nueva-area",this.area,t).then((function(t){e.areas.push(t.data),e.area.area="",e.area.docente="",e.mensaje.color="success",e.mensaje.texto="Area Agregada!",e.showAlert()})).catch((function(t){console.log(t.response),t.response?e.mensaje.texto=t.response:e.mensaje.texto="Error de sistema!",e.mensaje.color="danger",e.showAlert()}))},eliminarArea:function(e){var t=this;this.token;this.axios.delete("area/".concat(e)).then((function(e){var a=t.areas.findIndex((function(t){return t._id===e.data._id}));t.areas.splice(a,1),t.showAlert(),t.mensaje.texto="Notas Eliminada!",t.mensaje.color="danger"})).catch((function(e){console.log(e.response)}))},activarEdicion:function(e){var t=this;this.token;this.agregar=!1,this.axios.get("area/".concat(e)).then((function(e){t.areaEditar=e.data})).catch((function(e){console.log(e.response)}))},editarArea:function(e){var t=this;this.token;this.axios.put("area/".concat(e._id),e).then((function(e){var a=t.notas.findIndex((function(e){return e._id===t.areaEditar._id}));t.areas[a].area=t.areaEditar.nombre,t.areas[a].descripcion=t.areaEditar.descripcion,t.areaEditar={},t.showAlert(),t.mensaje.texto="Área Actualizada",t.mensaje.color="success"})).catch((function(e){console.log(e)})),this.agregar=!0},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},c=i,d=a("2877"),l=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=l.exports},a434:function(e,t,a){"use strict";var n=a("23e7"),r=a("23cb"),o=a("5926"),s=a("07fa"),i=a("7b0b"),c=a("65f0"),d=a("8418"),l=a("1dde"),u=l("splice"),m=Math.max,f=Math.min,h=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var a,n,l,u,g,v,b=i(this),x=s(b),_=r(e,x),w=arguments.length;if(0===w?a=n=0:1===w?(a=0,n=x-_):(a=w-2,n=f(m(o(t),0),x-_)),x+a-n>h)throw TypeError(p);for(l=c(b,n),u=0;u<n;u++)g=_+u,g in b&&d(l,u,b[g]);if(l.length=n,a<n){for(u=_;u<x-n;u++)g=u+n,v=u+a,g in b?b[v]=b[g]:delete b[v];for(u=x;u>x-n+a;u--)delete b[u-1]}else if(a>n)for(u=x-n;u>_;u--)g=u+n-1,v=u+a-1,g in b?b[v]=b[g]:delete b[v];for(u=0;u<a;u++)b[u+_]=arguments[u+2];return b.length=x-n+a,l}})},c740:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").findIndex,o=a("44d2"),s="findIndex",i=!0;s in[]&&Array(1)[s]((function(){i=!1})),n({target:"Array",proto:!0,forced:i},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)}}]);
//# sourceMappingURL=chunk-3a4f0f9a.897fb957.js.map